Subject: [PATCH] Remove Encrypt device option in Settings
diff --git a/AndroidManifest.xml b/AndroidManifest.xml
index 3ae58598dc..96c57df2b7 100644
--- a/AndroidManifest.xml
+++ b/AndroidManifest.xml
@@ -2394,7 +2394,7 @@
                        android:value="com.android.settings.accounts.ChooseAccountActivity" />
         </activity>
 
-        <activity android:name=".CryptKeeper"
+        <!--<activity android:name=".CryptKeeper"
                   androidprv:systemUserOnly="true"
                   android:immersive="true"
                   android:launchMode="singleTop"
@@ -2409,7 +2409,7 @@
                 <category android:name="android.intent.category.HOME" />
                 <category android:name="android.intent.category.DEFAULT" />
             </intent-filter>
-        </activity>
+        </activity>-->
 
         <!-- Triggered when user-selected home app isn't encryption aware -->
         <activity android:name=".FallbackHome"
@@ -2437,7 +2437,7 @@
         />
 
         <!-- Pseudo-activity used to provide an intent-filter entry point to encryption settings -->
-        <activity android:name="Settings$CryptKeeperSettingsActivity"
+        <!--<activity android:name="Settings$CryptKeeperSettingsActivity"
                 android:label="@string/crypt_keeper_encrypt_title">
             <intent-filter android:priority="1">
                 <action android:name="android.app.action.START_ENCRYPTION" />
@@ -2449,7 +2449,7 @@
             </intent-filter>
             <meta-data android:name="com.android.settings.FRAGMENT_CLASS"
                 android:value="com.android.settings.security.CryptKeeperSettings" />
-        </activity>
+        </activity>-->
 
         <activity
             android:name="Settings$DataUsageSummaryActivity"
diff --git a/res/xml/encryption_and_credential.xml b/res/xml/encryption_and_credential.xml
index c60c5b5c64..440aa5ea09 100644
--- a/res/xml/encryption_and_credential.xml
+++ b/res/xml/encryption_and_credential.xml
@@ -20,7 +20,7 @@
     android:title="@string/encryption_and_credential_settings_title"
     android:key="encryption_and_credentials_screen">
 
-    <PreferenceCategory
+    <!--<PreferenceCategory
         android:key="encryption_and_credentials_status_category"
         android:title="@string/crypt_keeper_settings_title">
 
@@ -30,7 +30,7 @@
             android:fragment="com.android.settings.security.CryptKeeperSettings"
             android:summary="@string/summary_placeholder" />
 
-    </PreferenceCategory>
+    </PreferenceCategory>-->
 
     <PreferenceCategory
         android:key="credentials_management"
diff --git a/src/com/android/settings/Settings.java b/src/com/android/settings/Settings.java
index ace2eb5f8a..49bae0f39b 100644
--- a/src/com/android/settings/Settings.java
+++ b/src/com/android/settings/Settings.java
@@ -85,7 +85,6 @@ public class Settings extends SettingsActivity {
     public static class BatterySaverSettingsActivity extends SettingsActivity { /* empty */ }
     public static class AccountSyncSettingsActivity extends SettingsActivity { /* empty */ }
     public static class AccountSyncSettingsInAddAccountActivity extends SettingsActivity { /* empty */ }
-    public static class CryptKeeperSettingsActivity extends SettingsActivity { /* empty */ }
     public static class DeviceAdminSettingsActivity extends SettingsActivity { /* empty */ }
     public static class DataUsageSummaryActivity extends SettingsActivity { /* empty */ }
     public static class DataUsageSummaryLegacyActivity extends SettingsActivity { /* empty */ }
diff --git a/src/com/android/settings/core/gateway/SettingsGateway.java b/src/com/android/settings/core/gateway/SettingsGateway.java
index 8f5d992c84..e83b21e049 100644
--- a/src/com/android/settings/core/gateway/SettingsGateway.java
+++ b/src/com/android/settings/core/gateway/SettingsGateway.java
@@ -116,7 +116,7 @@ import com.android.settings.password.ChooseLockPassword;
 import com.android.settings.password.ChooseLockPattern;
 import com.android.settings.print.PrintJobSettingsFragment;
 import com.android.settings.print.PrintSettingsFragment;
-import com.android.settings.security.CryptKeeperSettings;
+//import com.android.settings.security.CryptKeeperSettings;
 import com.android.settings.security.LockscreenDashboardFragment;
 import com.android.settings.security.SecuritySettings;
 import com.android.settings.sim.SimSettings;
@@ -196,7 +196,6 @@ public class SettingsGateway {
             PickupGestureSettings.class.getName(),
             DoubleTwistGestureSettings.class.getName(),
             SwipeUpGestureSettings.class.getName(),
-            CryptKeeperSettings.class.getName(),
             DataUsageSummary.class.getName(),
             DataUsageSummaryLegacy.class.getName(),
             DreamSettings.class.getName(),
-- 
2.25.1

